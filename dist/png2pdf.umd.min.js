/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 0.0.1 Built on 2022-10-11T10:24:24.046Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Holl√§nder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).png2pdf={})}(this,(function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r,n,a=function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this}();function i(){a.console&&"function"==typeof a.console.log&&a.console.log.apply(a.console,arguments)}r=a.atob.bind(a),n=a.btoa.bind(a);var o={log:i,warn:function(e){a.console&&("function"==typeof a.console.warn?a.console.warn.apply(a.console,arguments):i.call(null,arguments))},error:function(e){a.console&&("function"==typeof a.console.error?a.console.error.apply(a.console,arguments):i(e))}};function s(e){if("object"!==t(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(e,t,n){if(n=n||!1,"string"!=typeof e||"function"!=typeof t||"boolean"!=typeof n)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(e)||(r[e]={});var a=Math.random().toString(35);return r[e][a]=[t,!!n],a},this.unsubscribe=function(e){for(var t in r)if(r[t][e])return delete r[t][e],0===Object.keys(r[t]).length&&delete r[t],!0;return!1},this.publish=function(t){if(r.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in r[t]){var c=r[t][s];try{c[0].apply(e,n)}catch(e){a.console&&o.error("jsPDF PubSub Error",e.message,e)}c[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function c(e){var r,i="string"==typeof arguments[0]?arguments[0]:"p",u=arguments[1],l=arguments[2],d=arguments[3],f=[],h=1,p=16;"object"===t(e=e||{})&&(i=e.orientation,u=e.unit||u,l=e.format||l,d=e.compress||e.compressPdf||d,h="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(r=e.precision),void 0!==e.floatPrecision&&(p=e.floatPrecision)),f=e.filters||(!0===d?["FlateEncode"]:f),u=u||"mm",i=(""+(i||"P")).toLowerCase();var g={internal:{},__private__:{}};g.__private__.PubSub=s;var _="1.3",v=g.__private__.getPdfVersion=function(){return _};g.__private__.setPdfVersion=function(e){_=e},l=l||"a4";var m={COMPAT:"compat",ADVANCED:"advanced"},y=m.COMPAT;g.isAdvancedAPI=function(){return y===m.ADVANCED};var b,w=g.roundToPrecision=g.__private__.roundToPrecision=function(e,t){var n=r||t;if(isNaN(e)||isNaN(n))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(n).replace(/0+$/,"")},I=g.hpf=g.__private__.hpf=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return w(e,p)},D=g.scale=g.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return e*K},A="00000000000000000000000000000000",P=g.__private__.getFileId=function(){return A},C=g.__private__.setFileId=function(e){return A=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():A.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join("")};g.setFileId=function(e){return C(e),this},g.getFileId=function(){return P()};var x=g.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),r=t<0?"+":"-",n=Math.floor(Math.abs(t/60)),a=Math.abs(t%60),i=[r,U(n),"'",U(a),"'"].join("");return["D:",e.getFullYear(),U(e.getMonth()+1),U(e.getDate()),U(e.getHours()),U(e.getMinutes()),U(e.getSeconds()),i].join("")},E=g.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),r=parseInt(e.substr(6,2),10)-1,n=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),i=parseInt(e.substr(12,2),10),o=parseInt(e.substr(14,2),10);return new Date(t,r,n,a,i,o,0)},B=g.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=x(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return b=t},O=g.__private__.getCreationDate=function(e){var t=b;return"jsDate"===e&&(t=E(b)),t};g.setCreationDate=function(e){return B(e),this},g.getCreationDate=function(e){return O(e)};var j,S,F,U=g.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},k=0,T=[],N=[],M=0,R=[],L=[],G=N,X=function(){k=0,M=0,N=[],T=[],R=[],oe=ne(),se=ne()},V=function(e){G=e},Y=g.__private__.out=function(e){return e=e.toString(),M+=e.length+1,G.push(e),G},z=g.__private__.write=function(e){return Y(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},H=g.__private__.getArrayBuffer=function(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r);t--;)n[t]=e.charCodeAt(t);return r};g.__private__.getPageMode=function(){return S},g.__private__.getLayoutMode=function(){return F};var W,K,Z={title:"",subject:"",author:"",keywords:"",creator:""},$={},J=0,q=[],Q=new s(g),ee=e.hotfixes||[],te={},re=(g.matrixMult=function(e,t){return t.multiply(e)},g.__private__.newObject=function(){var e=ne();return ae(e,!0),e}),ne=g.__private__.newObjectDeferred=function(){return k++,T[k]=function(){return M},k},ae=function(e,t){return t="boolean"==typeof t&&t,T[e]=M,t&&Y(e+" 0 obj"),e},ie=g.__private__.newAdditionalObject=function(){var e={objId:ne(),content:""};return R.push(e),e},oe=ne(),se=ne(),ce=g.__private__.getFilters=function(){return f},ue=g.__private__.putStream=function(e){var t=(e=e||{}).data||"",r=e.filters||ce(),n=e.alreadyAppliedFilters||[],a=e.addLength1||!1,i=t.length,o={};!0===r&&(r=["FlateEncode"]);var s=e.additionalKeyValues||[],u=(o=void 0!==c.API.processDataByFilters?c.API.processDataByFilters(t,r):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(n)?n.join(" "):n.toString());if(0!==o.data.length&&(s.push({key:"Length",value:o.data.length}),!0===a&&s.push({key:"Length1",value:i})),0!=u.length)if(u.split("/").length-1==1)s.push({key:"Filter",value:u});else{s.push({key:"Filter",value:"["+u+"]"});for(var l=0;l<s.length;l+=1)if("DecodeParms"===s[l].key){for(var d=[],f=0;f<o.reverseChain.split("/").length-1;f+=1)d.push("null");d.push(s[l].value),s[l].value="["+d.join(" ")+"]"}}Y("<<");for(var h=0;h<s.length;h++)Y("/"+s[h].key+" "+s[h].value);Y(">>"),0!==o.data.length&&(Y("stream"),Y(o.data),Y("endstream"))},le=g.__private__.putPage=function(e){var t=e.number,r=e.data,n=e.objId,a=e.contentsObjId;ae(n,!0),Y("<</Type /Page"),Y("/Parent "+e.rootDictionaryObjId+" 0 R"),Y("/Resources "+e.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(I(e.mediaBox.bottomLeftX))+" "+parseFloat(I(e.mediaBox.bottomLeftY))+" "+I(e.mediaBox.topRightX)+" "+I(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&Y("/CropBox ["+I(e.cropBox.bottomLeftX)+" "+I(e.cropBox.bottomLeftY)+" "+I(e.cropBox.topRightX)+" "+I(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&Y("/BleedBox ["+I(e.bleedBox.bottomLeftX)+" "+I(e.bleedBox.bottomLeftY)+" "+I(e.bleedBox.topRightX)+" "+I(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&Y("/TrimBox ["+I(e.trimBox.bottomLeftX)+" "+I(e.trimBox.bottomLeftY)+" "+I(e.trimBox.topRightX)+" "+I(e.trimBox.topRightY)+"]"),null!==e.artBox&&Y("/ArtBox ["+I(e.artBox.bottomLeftX)+" "+I(e.artBox.bottomLeftY)+" "+I(e.artBox.topRightX)+" "+I(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&Y("/UserUnit "+e.userUnit),Q.publish("putPage",{objId:n,pageContext:q[t],pageNumber:t,page:r}),Y("/Contents "+a+" 0 R"),Y(">>"),Y("endobj");var i=r.join("\n");return ae(a,!0),ue({data:i,filters:ce(),objectId:a}),Y("endobj"),n},de=g.__private__.putPages=function(){var e,t,r=[];for(e=1;e<=J;e++)q[e].objId=ne(),q[e].contentsObjId=ne();for(e=1;e<=J;e++)r.push(le({number:e,data:L[e],objId:q[e].objId,contentsObjId:q[e].contentsObjId,mediaBox:q[e].mediaBox,cropBox:q[e].cropBox,bleedBox:q[e].bleedBox,trimBox:q[e].trimBox,artBox:q[e].artBox,userUnit:q[e].userUnit,rootDictionaryObjId:oe,resourceDictionaryObjId:se}));ae(oe,!0),Y("<</Type /Pages");var n="/Kids [";for(t=0;t<J;t++)n+=r[t]+" 0 R ";Y(n+"]"),Y("/Count "+J),Y(">>"),Y("endobj"),Q.publish("postPutPages")},fe=function(){for(var e in Y("/XObject <<"),te)te.hasOwnProperty(e)&&te[e].objectNumber>=0&&Y("/"+e+" "+te[e].objectNumber+" 0 R");Q.publish("putXobjectDict"),Y(">>")},he=function(e){ae(e.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),fe(),Y(">>"),Y("endobj")},pe=function(){Q.publish("putResources"),[].forEach(he),he({resourcesOid:se,objectOid:Number.MAX_SAFE_INTEGER}),Q.publish("postPutResources")},ge=function(e){return e.foo=function(){try{return e.apply(this,arguments)}catch(e){var t=e.stack||"";~t.indexOf(" at ")&&(t=t.split(" at ")[1]);var r="Error in function "+t.split("\n")[0].split("<")[0]+": "+e.message;if(!a.console)throw new Error(r);a.console.error(r,e),a.alert&&alert(r)}},e.foo.bar=e,e.foo},_e=function(e,t){var r,n,a,i,o,s,c,u,l;if(a=(t=t||{}).sourceEncoding||"Unicode",o=t.outputEncoding,(t.autoencode||o)&&$[W].metadata&&$[W].metadata[a]&&$[W].metadata[a].encoding&&(i=$[W].metadata[a].encoding,!o&&$[W].encoding&&(o=$[W].encoding),!o&&i.codePages&&(o=i.codePages[0]),"string"==typeof o&&(o=i[o]),o)){for(c=!1,s=[],r=0,n=e.length;r<n;r++)(u=o[e.charCodeAt(r)])?s.push(String.fromCharCode(u)):s.push(e[r]),s[r].charCodeAt(0)>>8&&(c=!0);e=s.join("")}for(r=e.length;void 0===c&&0!==r;)e.charCodeAt(r-1)>>8&&(c=!0),r--;if(!c)return e;for(s=t.noBOM?[]:[254,255],r=0,n=e.length;r<n;r++){if((l=(u=e.charCodeAt(r))>>8)>>8)throw new Error("Character at position "+r+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(l),s.push(u-(l<<8))}return String.fromCharCode.apply(void 0,s)},ve=g.__private__.pdfEscape=g.pdfEscape=function(e,t){return _e(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},me=g.__private__.beginPage=function(e){L[++J]=[],q[J]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},be(J),V(L[j])},ye=function(e){var t,r;switch(Array.isArray(e)&&(t=e[0]*K,r=e[1]*K),isNaN(t)&&(t=l[0],r=l[1]),(t>14400||r>14400)&&(o.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),t=Math.min(14400,t),r=Math.min(14400,r)),l=[t,r],i.substr(0,1)){case"l":r>t&&(l=[r,t]);break;case"p":t>r&&(l=[r,t])}me(l),Q.publish("addPage",{pageNumber:J})},be=function(e){e>0&&e<=J&&(j=e)},we=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return L.length-1},Ie=g.__private__.putInfo=function(){for(var e in Y("<<"),Y("/Producer ("+ve("jsPDF "+c.version)+")"),Z)Z.hasOwnProperty(e)&&Z[e]&&Y("/"+e.substr(0,1).toUpperCase()+e.substr(1)+" ("+ve(Z[e])+")");Y("/CreationDate ("+ve(b)+")"),Y(">>"),Y("endobj")},De=g.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||oe;switch(re(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+t+" 0 R"),F||(F="continuous"),F){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}Q.publish("putCatalog"),Y(">>"),Y("endobj")},Ae=g.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(k+1)),Y("/Root "+k+" 0 R"),Y("/Info "+(k-1)+" 0 R"),Y("/ID [ <"+A+"> <"+A+"> ]"),Y(">>")},Pe=g.__private__.putHeader=function(){Y("%PDF-"+_),Y("%¬∫√ü¬¨√†")},Ce=g.__private__.putXRef=function(){var e="0000000000";Y("xref"),Y("0 "+(k+1)),Y("0000000000 65535 f ");for(var t=1;t<=k;t++){"function"==typeof T[t]?Y((e+T[t]()).slice(-10)+" 00000 n "):void 0!==T[t]?Y((e+T[t]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")}},xe=g.__private__.buildDocument=function(){X(),V(N),Q.publish("buildDocument"),Pe(),de(),pe(),Ie(),De();var e=M;return Ce(),Ae(),Y("startxref"),Y(""+e),Y("%%EOF"),V(L[j]),N.join("\n")},Ee=g.output=g.__private__.output=ge((function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case"arraybuffer":return H(xe());case"datauristring":case"dataurlstring":var r="",a=xe();try{r=n(a)}catch(e){r=n(unescape(encodeURIComponent(a)))}return"data:application/pdf;filename="+t.filename+";base64,"+r;default:return null}})),Be=function(e){return!0===Array.isArray(ee)&&ee.indexOf(e)>-1};switch(u){case"pt":K=1;break;case"mm":K=72/25.4;break;case"cm":K=72/2.54;break;case"in":K=72;break;case"px":K=1==Be("px_scaling")?.75:96/72;break;case"pc":case"em":K=12;break;case"ex":K=6;break;default:if("number"!=typeof u)throw new Error("Invalid unit: "+u);K=u}B(),C(),g.addPage=function(){return ye.apply(this,arguments),this};g.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t},g.close=function(){return Y("h"),this};var Oe=g.__private__.getHorizontalCoordinate=function(e){return D(e)},je=g.__private__.getVerticalCoordinate=function(e){return q[j].mediaBox.topRightY-q[j].mediaBox.bottomLeftY-D(e)},Se=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(e){return I(Oe(e))},Fe=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(e){return I(je(e))};for(var Ue in c.API)c.API.hasOwnProperty(Ue)&&("events"===Ue&&c.API.events.length?function(e,t){var r,n,a;for(a=t.length-1;-1!==a;a--)r=t[a][0],n=t[a][1],e.subscribe.apply(e,[r].concat("function"==typeof n?[n]:n))}(Q,c.API.events):g[Ue]=c.API[Ue]);return g.internal={pdfEscape:ve,write:z,getHorizontalCoordinate:Oe,getVerticalCoordinate:je,getCoordinateString:Se,getVerticalCoordinateString:Fe,collections:{},newObject:re,newAdditionalObject:ie,newObjectDeferred:ne,newObjectDeferredBegin:ae,getFilters:ce,putStream:ue,events:Q,scaleFactor:K,output:Ee,getNumberOfPages:we,pages:L,out:Y,getPDFVersion:v,hasHotfix:Be},W="F1",ye(l),Q.publish("initialized"),g}c.API={events:[]},c.version="0.0.1",
/** @license
   * jsPDF addImage plugin
   * Copyright (c) 2012 Jason Siefken, https://github.com/siefkenj/
   *               2013 Chris Dowling, https://github.com/gingerchris
   *               2013 Trinh Ho, https://github.com/ineedfat
   *               2013 Edwin Alejandro Perez, https://github.com/eaparango
   *               2013 Norah Smith, https://github.com/burnburnrocket
   *               2014 Diego Casorran, https://github.com/diegocr
   *               2014 James Robb, https://github.com/jamesbrobb
   *
   * Permission is hereby granted, free of charge, to any person obtaining
   * a copy of this software and associated documentation files (the
   * "Software"), to deal in the Software without restriction, including
   * without limitation the rights to use, copy, modify, merge, publish,
   * distribute, sublicense, and/or sell copies of the Software, and to
   * permit persons to whom the Software is furnished to do so, subject to
   * the following conditions:
   *
   * The above copyright notice and this permission notice shall be
   * included in all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
   * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
   * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
   * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   */
function(e){e.__addimage__={};var t=function e(t){for(var r=this.internal.write,n=this.internal.putStream,a=(0,this.internal.getFilters)();-1!==a.indexOf("FlateEncode");)a.splice(a.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var i=[];if(i.push({key:"Type",value:"/XObject"}),i.push({key:"Subtype",value:"/Image"}),i.push({key:"Width",value:t.width}),i.push({key:"Height",value:t.height}),t.colorSpace===f.INDEXED?i.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(i.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===f.DEVICE_CMYK&&i.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),i.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&i.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var o="",s=0,c=t.transparency.length;s<c;s++)o+=t.transparency[s]+" "+t.transparency[s]+" ";i.push({key:"Mask",value:"["+o+"]"})}void 0!==t.sMask&&i.push({key:"SMask",value:t.objectId+1+" 0 R"});var u=void 0!==t.filter?["/"+t.filter]:void 0;if(n({data:t.data,additionalKeyValues:i,alreadyAppliedFilters:u,objectId:t.objectId}),r("endobj"),"sMask"in t&&void 0!==t.sMask){var l="/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,d={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:l,data:t.sMask};"filter"in t&&(d.filter=t.filter),e.call(this,d)}if(t.colorSpace===f.INDEXED){var h=this.internal.newObject();n({data:b(new Uint8Array(t.palette)),objectId:h}),r("endobj")}},n=function(){var e=this.internal.collections.addImage_images;for(var r in e)t.call(this,e[r])},a=function(){var e,t=this.internal.collections.addImage_images,r=this.internal.write;for(var n in t)r("/I"+(e=t[n]).index,e.objectId,"0","R")},i=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",n),this.internal.events.subscribe("putXobjectDict",a))},o=function(){var e=this.internal.collections.addImage_images;return i.call(this),e},s=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(t){return"function"==typeof e["process"+t.toUpperCase()]},u=function(e){var t=this.internal.collections.addImage_images;if(t)for(var r in t)if(e===t[r].alias)return t[r]},l=function(e,t,r){return e||t||(e=-96,t=-96),e<0&&(e=-1*r.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*r.height*72/t/this.internal.scaleFactor),0===e&&(e=t*r.width/r.height),0===t&&(t=e*r.height/r.width),[e,t]},d=function(e,t,r,n,a,i){var s=l.call(this,r,n,a),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,d=o.call(this);if(r=s[0],n=s[1],d[a.index]=a,i){i*=Math.PI/180;var f=Math.cos(i),h=Math.sin(i),p=function(e){return e.toFixed(4)},g=[p(f),p(h),p(-1*h),p(f),0,0,"cm"]}this.internal.write("q"),i?(this.internal.write([1,"0","0",1,c(e),u(t+n),"cm"].join(" ")),this.internal.write(g.join(" ")),this.internal.write([c(r),"0","0",c(n),"0","0","cm"].join(" "))):this.internal.write([c(r),"0","0",c(n),c(e),u(t+n),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+a.index+" Do"),this.internal.write("Q")},f=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var h=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},p=e.__addimage__.sHashCode=function(e){var t,r,n=0;if("string"==typeof e)for(r=e.length,t=0;t<r;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;else if(m(e))for(r=e.byteLength/2,t=0;t<r;t++)n=(n<<5)-n+e[t],n|=0;return n},g=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},_=e.__addimage__.extractImageFromDataUrl=function(e){var t=(e=e||"").split("base64,"),r=null;if(2===t.length){var n=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(t[0]);Array.isArray(n)&&(r={mimeType:n[1],charset:n[2],data:t[1]})}return r},v=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(e){return v()&&e instanceof ArrayBuffer};var m=e.__addimage__.isArrayBufferView=function(e){return v()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},y=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,r=new Uint8Array(t),n=0;n<t;n++)r[n]=e.charCodeAt(n);return r},b=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",r=m(e)?e:new Uint8Array(e),n=0;n<r.length;n+=8192)t+=String.fromCharCode.apply(null,r.subarray(n,n+8192));return t};e.addImage=function(){var e,t,r,n,a,o,s,c,u;e=arguments[0],t=arguments[1],r=arguments[2],n=arguments[3],a=arguments[4],o=arguments[5],s=arguments[6],c=arguments[7],u=arguments[8];var l=this.internal.getFilters();if(void 0===c&&-1!==l.indexOf("FlateEncode")&&(c="SLOW"),isNaN(r)||isNaN(n))throw new Error("Invalid coordinates passed to jsPDF.addImage");i.call(this);var f=w.call(this,e,t,s,c);return d.call(this,r,n,a,o,f,u),this};var w=function(t,r,n,a){var i,o,l;if(t=unescape(t),t=I(t,!1),"PNG",!c("PNG"))throw new Error("addImage does not support files of type 'PNG', please ensure that a plugin for 'PNG' support is added.");if((null==(l=n)||0===l.length)&&(n=function(e){return"string"==typeof e||m(e)?p(e):m(e.data)?p(e.data):null}(t)),(i=u.call(this,n))||(v()&&(t instanceof Uint8Array||(o=t,t=y(t))),i=this["process"+"PNG".toUpperCase()](t,s.call(this),n,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:h.NONE}(a),o)),!i)throw new Error("An unknown error occurred whilst processing the image.");return i},I=e.__addimage__.convertBase64ToBinaryString=function(e,t){var n;t="boolean"!=typeof t||t;var a,i="";if("string"==typeof e){a=null!==(n=_(e))?n.data:e;try{i=r(a)}catch(e){if(t)throw g(a)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return i};e.getImageProperties=function(e){var t;if(e=I(e,!1),!c("PNG"))throw new Error("addImage does not support files of type 'PNG', please ensure that a plugin for 'PNG' support is added.");if(!v()||e instanceof Uint8Array||(e=y(e)),!(t=this["process"+"PNG".toUpperCase()](e)))throw new Error("An unknown error occurred whilst processing the image");return t.fileType="PNG",t}}(c.API);try{require("worker_threads").Worker}catch(e){}var u=Uint8Array,l=Uint16Array,d=Uint32Array,f=new u([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),h=new u([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),p=new u([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),g=function(e,t){for(var r=new l(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var a=new d(r[30]);for(n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return[r,a]},_=g(f,2),v=_[0],m=_[1];v[28]=258,m[258]=28;for(var y=g(h,0)[0],b=new l(32768),w=0;w<32768;++w){var I=(43690&w)>>>1|(21845&w)<<1;I=(61680&(I=(52428&I)>>>2|(13107&I)<<2))>>>4|(3855&I)<<4,b[w]=((65280&I)>>>8|(255&I)<<8)>>>1}var D=function(e,t,r){for(var n=e.length,a=0,i=new l(t);a<n;++a)++i[e[a]-1];var o,s=new l(t);for(a=0;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;if(r){o=new l(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=s[e[a]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)o[b[f]>>>c]=u}else for(o=new l(n),a=0;a<n;++a)o[a]=b[s[e[a]-1]++]>>>15-e[a];return o},A=new u(288);for(w=0;w<144;++w)A[w]=8;for(w=144;w<256;++w)A[w]=9;for(w=256;w<280;++w)A[w]=7;for(w=280;w<288;++w)A[w]=8;var P=new u(32);for(w=0;w<32;++w)P[w]=5;var C=D(A,9,1),x=D(P,5,1),E=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},B=function(e,t,r){var n=t/8>>0;return(e[n]|e[n+1]<<8)>>>(7&t)&r},O=function(e,t){var r=t/8>>0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>>(7&t)},j=function(e,t,r){var n=e.length,a=!t||r,i=!r||r.i;r||(r={}),t||(t=new u(3*n));var o,s=function(e){var r=t.length;if(e>r){var n=new u(Math.max(2*r,e));n.set(t),t=n}},c=r.f||0,g=r.p||0,_=r.b||0,m=r.l,b=r.d,w=r.m,I=r.n,A=8*n;do{if(!m){r.f=c=B(e,g,1);var P=B(e,g+1,3);if(g+=3,!P){var j=e[(X=((o=g)/8>>0)+(7&o&&1)+4)-4]|e[X-3]<<8,S=X+j;if(S>n){if(i)throw"unexpected EOF";break}a&&s(_+j),t.set(e.subarray(X,S),_),r.b=_+=j,r.p=g=8*S;continue}if(1==P)m=C,b=x,w=9,I=5;else{if(2!=P)throw"invalid block type";var F=B(e,g,31)+257,U=B(e,g+10,15)+4,k=F+B(e,g+5,31)+1;g+=14;for(var T=new u(k),N=new u(19),M=0;M<U;++M)N[p[M]]=B(e,g+3*M,7);g+=3*U;var R=E(N),L=(1<<R)-1;if(!i&&g+k*(R+7)>A)break;var G=D(N,R,1);for(M=0;M<k;){var X,V=G[B(e,g,L)];if(g+=15&V,(X=V>>>4)<16)T[M++]=X;else{var Y=0,z=0;for(16==X?(z=3+B(e,g,3),g+=2,Y=T[M-1]):17==X?(z=3+B(e,g,7),g+=3):18==X&&(z=11+B(e,g,127),g+=7);z--;)T[M++]=Y}}var H=T.subarray(0,F),W=T.subarray(F);w=E(H),I=E(W),m=D(H,w,1),b=D(W,I,1)}if(g>A)throw"unexpected EOF"}a&&s(_+131072);for(var K=(1<<w)-1,Z=(1<<I)-1,$=w+I+18;i||g+$<A;){var J=(Y=m[O(e,g)&K])>>>4;if((g+=15&Y)>A)throw"unexpected EOF";if(!Y)throw"invalid length/literal";if(J<256)t[_++]=J;else{if(256==J){m=null;break}var q=J-254;if(J>264){var Q=f[M=J-257];q=B(e,g,(1<<Q)-1)+v[M],g+=Q}var ee=b[O(e,g)&Z],te=ee>>>4;if(!ee)throw"invalid distance";g+=15&ee;W=y[te];if(te>3){Q=h[te];W+=O(e,g)&(1<<Q)-1,g+=Q}if(g>A)throw"unexpected EOF";a&&s(_+131072);for(var re=_+q;_<re;_+=4)t[_]=t[_-W],t[_+1]=t[_+1-W],t[_+2]=t[_+2-W],t[_+3]=t[_+3-W];_=re}}r.l=m,r.p=g,r.b=_,m&&(c=1,r.m=w,r.d=b,r.n=I)}while(!c);return _==t.length?t:function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var n=new(e instanceof l?l:e instanceof d?d:u)(r-t);return n.set(e.subarray(t,r)),n}(t,0,_)};var S,F,U,k,T,N,M,R,L,G,X,V,Y=function(){var e,t,r;function n(e){var t,r,n,a,i,o,s,c,u,l,d,f,h,p;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},o=null;;){switch(t=this.readUInt32(),u=function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":o&&this.animation.frames.push(o),this.pos+=4,o={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},i=this.readUInt16(),a=this.readUInt16()||100,o.delay=1e3*i/a,o.disposeOp=this.data[this.pos++],o.blendOp=this.data[this.pos++],o.data=[];break;case"IDAT":case"fdAT":for("fdAT"===u&&(this.pos+=4,t-=4),e=(null!=o?o.data:void 0)||this.imgData,f=0;0<=t?f<t:f>t;0<=t?++f:--f)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(n=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>n)throw new Error("More transparent colors than palette size");if((l=n-this.transparency.indexed.length)>0)for(h=0;0<=l?h<l:h>l;0<=l?++h:--h)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":s=(d=this.read(t)).indexOf(0),c=String.fromCharCode.apply(String,d.slice(0,s)),this.text[c]=String.fromCharCode.apply(String,d.slice(s+1));break;case"IEND":return o&&this.animation.frames.push(o),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(p=this.colorType)||6===p,r=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*r,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)r.push(this.data[this.pos++]);return r},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,r=new Uint8Array(this.width*this.height*t),n=0,a=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function i(i,o,s,c){var u,l,d,f,h,p,g,_,v,m,y,b,w,I,D,A,P,C,x,E,B,O=Math.ceil((a.width-i)/s),j=Math.ceil((a.height-o)/c),S=a.width==O&&a.height==j;for(I=t*O,b=S?r:new Uint8Array(I*j),p=e.length,w=0,l=0;w<j&&n<p;){switch(e[n++]){case 0:for(f=P=0;P<I;f=P+=1)b[l++]=e[n++];break;case 1:for(f=C=0;C<I;f=C+=1)u=e[n++],h=f<t?0:b[l-t],b[l++]=(u+h)%256;break;case 2:for(f=x=0;x<I;f=x+=1)u=e[n++],d=(f-f%t)/t,D=w&&b[(w-1)*I+d*t+f%t],b[l++]=(D+u)%256;break;case 3:for(f=E=0;E<I;f=E+=1)u=e[n++],d=(f-f%t)/t,h=f<t?0:b[l-t],D=w&&b[(w-1)*I+d*t+f%t],b[l++]=(u+Math.floor((h+D)/2))%256;break;case 4:for(f=B=0;B<I;f=B+=1)u=e[n++],d=(f-f%t)/t,h=f<t?0:b[l-t],0===w?D=A=0:(D=b[(w-1)*I+d*t+f%t],A=d&&b[(w-1)*I+(d-1)*t+f%t]),g=h+D-A,_=Math.abs(g-h),m=Math.abs(g-D),y=Math.abs(g-A),v=_<=m&&_<=y?h:m<=y?D:A,b[l++]=(u+v)%256;break;default:throw new Error("Invalid filter algorithm: "+e[n-1])}if(!S){var F=((o+w*c)*a.width+i)*t,U=w*I;for(f=0;f<O;f+=1){for(var k=0;k<t;k+=1)r[F++]=b[U++];F+=(s-1)*t}}w++}}return e=function(e,t){return j((function(e){if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"}(e),e.subarray(2,-4)),t)}(e),1==a.interlaceMethod?(i(0,0,8,8),i(4,0,8,8),i(0,4,4,8),i(2,0,4,4),i(0,2,2,4),i(1,0,2,2),i(0,1,1,2)):i(0,0,1,1),r},n.prototype.decodePalette=function(){var e,t,r,n,a,i,o,s,c;for(r=this.palette,i=this.transparency.indexed||[],a=new Uint8Array((i.length||0)+r.length),n=0,e=0,t=o=0,s=r.length;o<s;t=o+=3)a[n++]=r[t],a[n++]=r[t+1],a[n++]=r[t+2],a[n++]=null!=(c=i[e++])?c:255;return a},n.prototype.copyToImageData=function(e,t){var r,n,a,i,o,s,c,u,l,d,f;if(n=this.colors,l=null,r=this.hasAlphaChannel,this.palette.length&&(l=null!=(f=this._decodedPalette)?f:this._decodedPalette=this.decodePalette(),n=4,r=!0),u=(a=e.data||e).length,o=l||t,i=s=0,1===n)for(;i<u;)c=l?4*t[i/4]:s,d=o[c++],a[i++]=d,a[i++]=d,a[i++]=d,a[i++]=r?o[c++]:255,s=c;else for(;i<u;)c=l?4*t[i/4]:s,a[i++]=o[c++],a[i++]=o[c++],a[i++]=o[c++],a[i++]=r?o[c++]:255,s=c},n.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var i=function(){if("[object Window]"===Object.prototype.toString.call(a)){try{t=a.document.createElement("canvas"),r=t.getContext("2d")}catch(e){return!1}return!0}return!1};return i(),e=function(e){var n;if(!0===i())return r.width=e.width,r.height=e.height,r.clearRect(0,0,e.width,e.height),r.putImageData(e,0,0),(n=new Image).src=t.toDataURL(),n;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(t){var r,n,a,i,o,s,c,u;if(this.animation){for(u=[],n=o=0,s=(c=this.animation.frames).length;o<s;n=++o)r=c[n],a=t.createImageData(r.width,r.height),i=this.decodePixels(new Uint8Array(r.data)),this.copyToImageData(a,i),r.imageData=a,u.push(r.image=e(a));return u}},n.prototype.renderFrame=function(e,t){var r,n,a;return r=(n=this.animation.frames)[t],a=n[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=a?a.disposeOp:void 0)?e.clearRect(a.xOffset,a.yOffset,a.width,a.height):2===(null!=a?a.disposeOp:void 0)&&e.putImageData(a.imageData,a.xOffset,a.yOffset),0===r.blendOp&&e.clearRect(r.xOffset,r.yOffset,r.width,r.height),e.drawImage(r.image,r.xOffset,r.yOffset)},n.prototype.animate=function(e){var t,r,n,a,i,o,s=this;return r=0,o=this.animation,a=o.numFrames,n=o.frames,i=o.numPlays,(t=function(){var o,c;if(o=r++%a,c=n[o],s.renderFrame(e,o),a>1&&r/a<i)return s.animation._timeout=setTimeout(t,c.delay)})()},n.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},n.prototype.render=function(e){var t,r;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(r=t.createImageData(this.width,this.height),this.copyToImageData(r,this.decodePixels()),t.putImageData(r,0,0))},n}();
/**
   * @license
   *
   * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
   *
   * Permission is hereby granted, free of charge, to any person obtaining
   * a copy of this software and associated documentation files (the
   * "Software"), to deal in the Software without restriction, including
   * without limitation the rights to use, copy, modify, merge, publish,
   * distribute, sublicense, and/or sell copies of the Software, and to
   * permit persons to whom the Software is furnished to do so, subject to
   * the following conditions:
   *
   * The above copyright notice and this permission notice shall be
   * included in all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
   * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
   * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
   * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   * ====================================================================
   */function z(e){for(var t=e.pageWidth>e.pageHeight?"l":"p",r=new c({format:[e.pageWidth,e.pageHeight],orientation:t}),n=0,a=e.pages.length;n<a;n++){for(var i=e.pages[n],o=0,s=i.length;o<s;o++){var u=i[o];r.addImage(u.dataUrl,"PNG",u.x,u.y,u.w,u.h)}n<a-1&&r.addPage()}return r}S=c.API,F=function(){return"function"==typeof zlibSync},U=function(e,t,r,n){var a=4,i=M;switch(n){case S.image_compression.FAST:a=1,i=N;break;case S.image_compression.MEDIUM:a=6,i=R;break;case S.image_compression.SLOW:a=9,i=L}e=k(e,t,r,i);var o=zlibSync(e,{level:a});return S.__addimage__.arrayBufferToBinaryString(o)},k=function(e,t,r,n){for(var a,i,o,s=e.length/t,c=new Uint8Array(e.length+s),u=X(),l=0;l<s;l+=1){if(o=l*t,a=e.subarray(o,o+t),n)c.set(n(a,r,i),o+l);else{for(var d,f=u.length,h=[];d<f;d+=1)h[d]=u[d](a,r,i);var p=V(h.concat());c.set(h[p],o+l)}i=a}return c},T=function(e){var t=Array.apply([],e);return t.unshift(0),t},N=function(e,t){var r,n=[],a=e.length;n[0]=1;for(var i=0;i<a;i+=1)r=e[i-t]||0,n[i+1]=e[i]-r+256&255;return n},M=function(e,t,r){var n,a=[],i=e.length;a[0]=2;for(var o=0;o<i;o+=1)n=r&&r[o]||0,a[o+1]=e[o]-n+256&255;return a},R=function(e,t,r){var n,a,i=[],o=e.length;i[0]=3;for(var s=0;s<o;s+=1)n=e[s-t]||0,a=r&&r[s]||0,i[s+1]=e[s]+256-(n+a>>>1)&255;return i},L=function(e,t,r){var n,a,i,o,s=[],c=e.length;s[0]=4;for(var u=0;u<c;u+=1)n=e[u-t]||0,a=r&&r[u]||0,i=r&&r[u-t]||0,o=G(n,a,i),s[u+1]=e[u]-o+256&255;return s},G=function(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=a&&n<=i?e:a<=i?t:r},X=function(){return[T,N,M,R,L]},V=function(e){var t=e.map((function(e){return e.reduce((function(e,t){return e+Math.abs(t)}),0)}));return t.indexOf(Math.min.apply(null,t))},S.processPNG=function(e,t,r,n){var a,i,o,s,c,u,l,d,f,h,p,g,_,v,m,y=this.decode.FLATE_DECODE,b="";if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){if(e=(o=new Y(e)).imgData,i=o.bits,a=o.colorSpace,c=o.colors,-1!==[4,6].indexOf(o.colorType)){if(8===o.bits){f=(d=32==o.pixelBitlength?new Uint32Array(o.decodePixels().buffer):16==o.pixelBitlength?new Uint16Array(o.decodePixels().buffer):new Uint8Array(o.decodePixels().buffer)).length,p=new Uint8Array(f*o.colors),h=new Uint8Array(f);var w,I=o.pixelBitlength-o.bits;for(v=0,m=0;v<f;v++){for(_=d[v],w=0;w<I;)p[m++]=_>>>w&255,w+=o.bits;h[v]=_>>>w&255}}if(16===o.bits){f=(d=new Uint32Array(o.decodePixels().buffer)).length,p=new Uint8Array(f*(32/o.pixelBitlength)*o.colors),h=new Uint8Array(f*(32/o.pixelBitlength)),g=o.colors>1,v=0,m=0;for(var D=0;v<f;)_=d[v++],p[m++]=_>>>0&255,g&&(p[m++]=_>>>16&255,_=d[v++],p[m++]=_>>>0&255),h[D++]=_>>>16&255;i=8}n!==S.image_compression.NONE&&F()?(e=U(p,o.width*o.colors,o.colors,n),l=U(h,o.width,1,n)):(e=p,l=h,y=void 0)}if(3===o.colorType&&(a=this.color_spaces.INDEXED,u=o.palette,o.transparency.indexed)){var A=o.transparency.indexed,P=0;for(v=0,f=A.length;v<f;++v)P+=A[v];if((P/=255)==f-1&&-1!==A.indexOf(0))s=[A.indexOf(0)];else if(P!==f){for(d=o.decodePixels(),h=new Uint8Array(d.length),v=0,f=d.length;v<f;v++)h[v]=A[d[v]];l=U(h,o.width,1)}}var C=function(e){var t;switch(e){case S.image_compression.FAST:t=11;break;case S.image_compression.MEDIUM:t=13;break;case S.image_compression.SLOW:t=14;break;default:t=12}return t}(n);return y===this.decode.FLATE_DECODE&&(b="/Predictor "+C+" "),b+="/Colors "+c+" /BitsPerComponent "+i+" /Columns "+o.width,(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(l&&this.__addimage__.isArrayBuffer(l)||this.__addimage__.isArrayBufferView(l))&&(l=this.__addimage__.arrayBufferToBinaryString(l)),{alias:r,data:e,index:t,filter:y,decodeParameters:b,transparency:s,palette:u,sMask:l,predictor:C,width:o.width,height:o.height,bitsPerComponent:i,colorSpace:a}}},window.__png2pdf=z,e.png2pdf=z,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=png2pdf.umd.min.js.map
